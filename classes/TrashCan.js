import { getRandEl } from "../utility";
import Item from './item';

export default class TrashCan {
  constructor(location) {
    this.fresh = true;
    this.turnsTilFresh = 0;
    this.location = location;
    this.img = 'data:image/jpeg;base64,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';
  }

  yield() {
    let item = null;
    if(this.fresh) {
      item = genItem();
      this.fresh = false;
      this.turnsTilFresh = 10;
    }
    return item;
  }

  freshen() {
    if(this.turnsTilFresh > 0) {
      this.turnsTilFresh--;
    }
    if(!this.turnsTilFresh) {
      this.fresh = true;
    }
  }
}

function genItem() {
  const types = ['cheese', 'meat', 'bread', 'veggies', 'condiment', 'greens'];
  const randType = getRandEl(types);
  const potentialItems = {
    cheese: ['Brie', 'Bleu', 'Cheddar', 'Mozzarella', 'Pepper Jack'],
    meat: ['Steak', 'BBQ Pork', 'Grilled Chicken', 'Armadillo'],
    bread: ['French', 'Wheat', 'Ciabatta', 'White'],
    veggies: ['Tomato', 'Pickle', 'Cabbage'],
    condiment: ['Mayo', 'Mustard', 'Fry Sauce'],
    greens: ['Sprouts', 'Lettuce', 'US Dollar']
  };
  const randItem = getRandEl(potentialItems[randType]);
  return new Item(randItem, randType, 'img');
}